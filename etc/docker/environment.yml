version: "2"
networks:
  dmc:
    external: true
volumes:
  etc:
    external: true
  lib:
    external: true
  #var:
  #  external: true
services:
  #local-arangodb:
  #  build:
  #    context: ../../opt/arangodb
  #  image: dmc:arangodb
  local-node:
    build:
      context: ../../opt/node
    environment:
      GURUMOJO_ENVIRONMENT: development
      GURUMOJO_REDIS_EXPOSE: 6379
      GURUMOJO_REDIS_HOSTNAME: docker_redis_1
    extends:
      file: service.yml
      service: base
    image: dmc:node
  #local-rabbitmq:
  #  build:
  #    context: ../../opt/rabbitmq
  #  image: dmc:rabbitmq
  local-redis:
    build:
      context: ../../opt/redis
    image: dmc:redis
    networks:
      - dmc
